---
title: "Modeling"
author: "Alex Kan -lexokan"
date: "April 14, 2018"
output: html_document
---

```{r setup, include=FALSE}
library(tidyverse)
library(stringr)
library(data.table)
```

```{r}
df <- fread("C:/Users/lexokan/Desktop/Yelp/sample4.csv") %>% 
    select(-V1)

temp <- df
temp$date <- as.Date(temp$date, format = '%Y-%m-%d')
temp$yelping_since <- as.Date(temp$yelping_since, format = '%Y-%m-%d')
temp$postal_code <- as.integer(temp$postal_code)


# Number of unique business ids in phoenix 
length(unique(phoenix$businessID))
```

```{r}
pca <- prcomp(temp %>% 
                  select(-c(date, yelping_since)))

bestPCs <- sort(pca$sdev, decreasing = T)[1:2]

biplot(pca)

plot(pca$x[, c(which(pca$sdev == bestPCs[1])[1], which(pca$sdev == bestPCs[2])[1])])
```

